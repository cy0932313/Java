<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.chris.mechanization.dao.IOperateTableDao">

    <select id="existTable" resultType="Integer">
        select count(*)
        from information_schema.TABLES
        where LCASE(table_name)=#{tableName}
    </select>

    <update id="dropTable">
        DROP TABLE ${tableName}
    </update>

    <update id="trancateTable">
        TRUNCATE TABLE ${tableName}
    </update>

    <update id="createNewTable">
        CREATE TABLE ${tableName} (
             open varchar(32) NOT NULL,
             close varchar(32) NOT NULL,
             high varchar(32) NOT NULL,
             low varchar(32) NOT NULL,
             volume varchar(32) NOT NULL,
             lot_volume varchar(32) NOT NULL,
             ma5 varchar(32) NOT NULL,
             ma10 varchar(32) NOT NULL,
             ma20 varchar(32) NOT NULL,
             ma30 varchar(32) NOT NULL,
             chg varchar(32) NOT NULL,
             percent varchar(32) NOT NULL,
             turnrate varchar(32) NOT NULL,
             macd varchar(32) NOT NULL,
             dif varchar(32) NOT NULL,
             dea varchar(32) NOT NULL,
             timestamp varchar(32) NOT NULL,
             time varchar(32) NOT NULL,
          PRIMARY KEY (time))
    </update>
</mapper>